<?php/** * YZOI Online Judge System * * @copyright   Copyright (c) 2010 YZOI * @author      xaero <xaero@msn.cn> * @version     $Id: IndexController.php 2015-10-22 18:28 $ */namespace YZOI\Controllers\Admin;use YZOI\Models\Problems;use YZOI\Models\Solutions;class IndexController extends ControllerBase{    public function indexAction()    {        $this->view->title = "后台首页";        if ( $this->request->isPost() ) {            $type = $this->request->getPost('type');            $id = intval($this->request->getPost('typeid', array('trim', 'int')));            if ($type == 'PROBLEM') {                $problem = Problems::findFirstById($id);                if ( $problem )                {                    $problem->rejudge();                    $this->flash->success("Problem ID = {$id} has been rejudged");                }            } else if ($type == 'SOLUTION') {                $solution = Solutions::findFirstById($id);                if ( $solution )                {                    $solution->rejudge();                    $this->flash->success("Solution ID = {$id} has been rejudged");                }            }        }    }}